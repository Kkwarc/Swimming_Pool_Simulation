#include <iostream>
#include <fstream>
#include <string>
#include "time.h"
#include "Lifeguard.h"
#include "Instructor.h"
#include "client.h"
#include "atractions.h"
#include "da_Pool.h"
#include "simulation.h"


using namespace std;

void read()
{
   ifstream file("text.txt");
   if(file.is_open())
   {
      string line;
      while(getline(file,line))
      {
         size_t pos = 0;
         string token;
         string delimiter = ",";
         vector<string> obiekt;
         while ((pos = line.find(delimiter)) != string::npos)
         {     
            token = line.substr(0, pos);
            obiekt.push_back(token);
            line.erase(0, pos + delimiter.length());
         }
         if (obiekt[0]=="klient")
         {
            string name = obiekt[1];
            string surname = obiekt[2];
            int id = stoi(obiekt[3]);
            int z = stoi(obiekt[4]);
            if (z==0)
            {
               Client klient(name, surname,id,false,0);
            }
            if (z==1)
            {
            Client klient(name, surname,id,true,0);
            }
            //ludzie.pushbask(klient)
         }
         if (obiekt[0]=="Lifeguard")
         {
            string name = obiekt[1];
            string surname = obiekt[2];
            int id = stoi(obiekt[3]);
            int exp = stoi(obiekt[4]);
            int starth = stoi(obiekt[5]);
            Time sh = {starth,00};
            int finish = stoi(obiekt[6]);
            Time fh = {finish,00};

            Lifeguard ratownik(name,surname,id,exp,sh,fh);
            //pracownicy.pushback(ratownik)
         }
         if (obiekt[0]=="Instructor")
         {
            string name = obiekt[1];
            string surname = obiekt[2];
            int id = stoi(obiekt[3]);
            int exp = stoi(obiekt[4]);
            int starth = stoi(obiekt[5]);
            Time sh = {starth,00};
            int finish = stoi(obiekt[6]);
            Time fh = {finish,00};
            
            Instructor instr(name,surname,id,exp,sh,fh);
            //pracownicy.pushback(ratownik)
         }
         if (obiekt[0]=="pool")
         {
            int num = stoi(obiekt[1]);
            int dlug = stoi(obiekt[2]);
            int maxp = stoi(obiekt[3]);
            int lpocz = stoi(obiekt[4]);
            int lmed = stoi(obiekt[5]);
            int ladv = stoi(obiekt[6]);
            
            //Pool pool(num,dlug,maxp,lpocz,lmed,ladv);
            //atrakcje.pushback(pool)
         }
         if (obiekt[0]=="da_pool")
         {
            string name = obiekt[1];
            int start = stoi(obiekt[2]);
            int finish = stoi(obiekt[3]);

            //Da_Pool dapool(name, atrakcje, ludzie, pracownicy, start,finish);
            
         }
         if (obiekt[0]=="rand")
         {
            //nwm
         }
         if (obiekt[0]=="tick")
         {
            //nwm
         }
      }
   }
}

int main()
{
   read();
   return 0;
}
